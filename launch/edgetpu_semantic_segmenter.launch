<launch>
  <arg name="INPUT_IMAGE"/>
  <arg name="IMAGE_TRANSPORT" default="raw"/>
  <arg name="machine" default="c2" />
  <machine name="c1" address="c1" default="true"/>
  <machine name="c2" address="c2" env-loader="$(find coral_usb)/launch/env.sh"/>

  <node name="edgetpu_semantic_segmenter"
        pkg="coral_usb" type="edgetpu_semantic_segmenter.py"
        output="screen" respawn="true" machine="$(arg machine)">
    <remap from="~input" to="$(arg INPUT_IMAGE)" />
    <rosparam subst_value="true" >
      image_transport: $(arg IMAGE_TRANSPORT)
    </rosparam>
  </node>
</launch>
